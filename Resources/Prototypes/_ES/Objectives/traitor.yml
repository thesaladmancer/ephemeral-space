- type: entity
  parent: ESBaseMaskObjective
  id: ESBaseTraitorObjective
  abstract: true

- type: entity
  parent: ESBaseTraitorObjective
  id: ESBaseTraitorObjectiveMinor # Minor objectives must be completed before the m
  abstract: true
  components:
  - type: ESNukePrereqObjective

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorKillRandom
  description: The syndicate needs to make sure they don't interfere with our plans.
  components:
  - type: Objective
    icon:
      sprite: Objects/Weapons/Melee/kitchen_knife.rsi
      state: icon
  - type: TargetObjective
    title: es-objective-condition-crewmember-kill-title
  - type: PickRandomPerson
    filters:
    # You can only get kill objectives for people on your station.
    - !type:ESShareStationFilter
    # Must not be a syndie
    - !type:ESHasTroupeFilter
      troupe: ESTraitor
      inverted: true
    # Can't have multiple objectives to kill the same person.
    - !type:TargetObjectiveMindFilter
      blacklist:
        components:
        - KillPersonCondition
  - type: KillPersonCondition
    requireDead: true

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorSabotageCommunications
  name: Sabotage the communications computer
  description: The syndicate is trying to calculate the station trajectory. It can be extracted from the communications computer.
  components:
  - type: Objective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: comm-icon
  - type: ESSabotageCondition
    whitelist:
      components:
      - CommunicationsConsole

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorSabotageCrewMonitoring
  name: Sabotage the crew monitoring server
  description: The syndicate is trying to acquire sensitive crew medical records. It can be extracted from the crew monitoring server.
  components:
  - type: Objective
    icon: # TODO: proper icon once it's resprited
      sprite: Objects/Tools/wrench.rsi
      state: icon
  - type: ESSabotageCondition
    whitelist:
      components:
      - CrewMonitoringServer

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorSabotageIDComputer
  name: Sabotage the ID card computer
  description: The syndicate want to steal the crew manifest data. It can be extracted from the ID card computer.
  components:
  - type: Objective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: id-icon
  - type: ESSabotageCondition
    whitelist:
      components:
      - IdCardConsole

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorSabotageCriminalRecords
  name: Sabotage the criminal records
  description: The syndicate needs information on its imprisoned members. It can be extracted from the criminal records computer.
  components:
  - type: Objective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: security-icon
  - type: ESSabotageCondition
    whitelist:
      components:
      - CriminalRecordsConsole

- type: entity
  parent: ESBaseTraitorObjectiveMinor
  id: ESObjectiveTraitorSabotageTelecom
  name: Sabotage the telecom server
  description: The syndicate needs to decode encrypted communication logs from Nanotrasen. They can be found in one of the station telecom servers.
  components:
  - type: Objective
    icon:
      sprite: _ES/Structures/Machines/telecomms.rsi
      state: icon
  - type: ESSabotageCondition
    whitelist:
      components:
      - TelecomServer

- type: entity
  parent: ESBaseTraitorObjective
  id: ESObjectiveTraitorHackCryptoNukeConsoles
  name: Hack the nuclear cryptographic terminals
  description: Once the objectives above are completed, hack the terminals to unlock the code for the nuke.
  components:
  - type: Objective
    icon:
      sprite: _ES/Structures/Machines/computer.rsi
      state: cryptonuke-icon
  - type: ESCryptoNukeHackObjective

- type: entity
  parent: ESBaseTraitorObjective
  id: ESObjectiveTraitorDetonateNuke
  name: Detonate the nuclear fission explosive
  description: Using the captain's authentication disk, arm the nuke and prevent the crew from stopping the detonation.
  components:
  - type: Objective
    icon:
      sprite: Objects/Devices/nuke.rsi
      state: nuclearbomb_base
  - type: ESDetonateNukeObjective
